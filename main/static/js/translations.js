const translations = {
    tr: {
        nav: {
            home: "Ana Sayfa",
            producers: "Üreticiler İçin",
            buyers: "Alıcılar İçin",
            calendar: "Fuar Takvimi",
            about: "Hakkımızda",
            contact: "İletişim",
            login: "Giriş",
            signup: "Kayıt Ol",
            profile: "Profilim"
        },
        hero: {
            title: "İzmir'in En Seçkin Üreticilerini Dünyayla Buluşturuyoruz",
            subtitle: "Siz işinize odaklanın, fuarları ve ihracatı bize bırakın.",
            cta: "Hizmetlerimizi Keşfedin"
        },
        services_proxy: {
            title: "Sizin Yerinize Fuardayız",
            desc: "Dünyanın dört bir yanındaki fuarlara sizin adınıza katılıyoruz, ürünlerinizi sergiliyoruz ve doğrudan müşterilerle görüşüyoruz."
        },
        footer: {
            desc: "Made in İzmir: Küresel Ticaret Merkeziniz.",
            copyright: "© 2024 Made in İzmir. Tüm Hakları Saklıdır."
        },
        producers: {
            title: "Üreticiler İçin Hizmetlerimiz",
            subtitle: "Global pazarlara açılmanız için gereken tüm desteği sağlıyoruz.",
            service1_title: "Pazar Araştırması",
            service1_desc: "Hedef pazarınızdaki fırsatları ve rakipleri analiz ediyoruz.",
            service2_title: "Lojistik Danışmanlığı",
            service2_desc: "Ürünlerinizin en uygun maliyetle ve güvenle ulaşmasını sağlıyoruz.",
            service3_title: "Fuar Temsilciliği",
            service3_desc: "Biz gidiyoruz, siz kazanıyorsunuz. Stand kurulumundan müşteri görüşmelerine kadar her şey bizde.",
            form_title: "Made in İzmir Ağına Katılın",
            name: "Ad Soyad",
            company: "Firma Adı",
            sector: "Sektör",
            message: "Mesajınız",
            submit: "Başvuruyu Gönder"
        },
        buyers: {
            title: "Küresel Alıcılar İçin",
            subtitle: "Türkiye'nin üretim gücünü keşfedin.",
            sourcing_title: "Tedarik Hizmetleri",
            sourcing_desc: "Ne aradığınızı söyleyin, en uygun üreticiyi bulalım.",
            qc_title: "Kalite Kontrol",
            qc_desc: "Ürünlerinizi yerinde inceliyor, standartlarınıza uygunluğunu doğruluyoruz.",
            industries_title: "Hizmet Verdiğimiz Sektörler",
            ind_textile: "Tekstil",
            ind_food: "Gıda",
            ind_marble: "Mermer & Doğaltaş",
            ind_auto: "Otomotiv Yedek Parça"
        },
        calendar: {
            title: "Fuar Takvimi",
            subtitle: "Katılacağımız uluslararası fuarlar.",
            col_event: "Etkinlik",
            col_date: "Tarih",
            col_location: "Konum",
            col_action: "Aksiyon",
            hire_btn: "Bizi Kiralayın"
        },
        contact: {
            title: "İletişim",
            subtitle: "Sorularınız için bizimle iletişime geçin.",
            whatsapp: "WhatsApp Hattı",
            form_title: "Bize Ulaşın",
            name: "Adınız",
            email: "E-posta",
            subject: "Konu",
            message: "Mesaj",
            send: "Gönder"
        },
        about: {
            title: "Hakkımızda",
            bio_title: "Kurucu & Vizyon",
            bio_text: "Yılların getirdiği ihracat tecrübesi ile İzmir'in potansiyelini dünyaya taşıyoruz.",
            why_izmir_title: "Neden İzmir?",
            why_izmir_text: "İzmir, stratejik limanı ve güçlü üretim altyapısı ile Doğu ve Batı arasındaki en önemli ticaret köprülerinden biridir."
        },
        signup: {
            title: "Kayıt Ol",
            personal_info: "Kişisel Bilgiler",
            first_name: "Ad",
            last_name: "Soyad",
            email: "E-posta",
            username: "Kullanıcı Adı",
            password: "Şifre",
            password_confirm: "Şifre Tekrar",
            company_info: "Firma Bilgileri",
            company_name: "Firma Adı",
            phone_number: "Telefon Numarası",
            country: "Ülke",
            city: "Şehir",
            user_type: "Kullanıcı Tipi",
            user_type_desc: "En az bir seçenek seçmelisiniz. Her iki seçeneği de seçebilirsiniz.",
            buyer: "Alıcı",
            producer: "Üretici",
            buyer_info: "Alıcı Bilgileri",
            buyer_sectors: "İlgilenilen Sektörler",
            buyer_sectors_help: "Virgülle ayırarak yazın (örn: Tekstil, Gıda, Mermer)",
            buyer_volume: "Çeyreklik Alım Hacmi (USD)",
            producer_info: "Üretici Bilgileri",
            producer_sector: "Sektörler",
            producer_sales: "Çeyreklik Satış Hacmi (USD)",
            producer_products: "Yaklaşık Ürün Sayısı",
            submit: "Kayıt Ol",
            have_account: "Zaten hesabınız var mı?",
            login_link: "Giriş Yapın"
        },
        login: {
            title: "Giriş Yap",
            username: "Kullanıcı Adı veya E-posta",
            password: "Şifre",
            submit: "Giriş Yap",
            no_account: "Hesabınız yok mu?",
            signup_link: "Kayıt Olun"
        },
        profile: {
            title: "Profilim",
            buyer: "Alıcı",
            producer: "Üretici",
            personal_info: "Kişisel Bilgiler",
            full_name: "Ad Soyad",
            username: "Kullanıcı Adı",
            email: "E-posta",
            company_info: "Firma Bilgileri",
            company_name: "Firma Adı",
            phone: "Telefon",
            location: "Konum",
            buyer_info: "Alıcı Bilgileri",
            interested_sectors: "İlgilenilen Sektörler",
            quarterly_volume: "Çeyreklik Alım Hacmi",
            producer_info: "Üretici Bilgileri",
            sector: "Sektörler",
            quarterly_sales: "Çeyreklik Satış Hacmi",
            product_count: "Ürün Sayısı",
            logout: "Çıkış Yap"
        },
        dashboard: {
            producer_title: "Üretici Paneli",
            buyer_title: "Alıcı Paneli",
            welcome: "Hoş Geldiniz",
            overview: "Genel Bakış",
            total_products: "Toplam Ürün",
            active_products: "Aktif Ürünler",
            quick_actions: "Hızlı İşlemler",
            add_new: "Yeni Ürün Ekle",
            my_products: "Ürünlerim",
            available_products: "Mevcut Ürünler",
            producer: "Üretici",
            view_details: "Detayları Görüntüle",
            edit: "Düzenle",
            delete: "Sil",
            no_products: "Henüz ürün eklemediniz.",
            status: "Durum",
            active: "Aktif",
            passive: "Pasif",
            details: "Detaylar",
            back: "Geri Dön",
            product_details: "Ürün Detayları",
            title_tr: "Ürün Başlığı (Türkçe)",
            title_en: "Ürün Başlığı (İngilizce)",
            desc_tr: "Ürün Açıklaması (Türkçe)",
            desc_en: "Ürün Açıklaması (İngilizce)",
            photos: "Ürün Fotoğrafları",
            max_photos: "En fazla 3 fotoğraf",
            current_photos: "Mevcut Fotoğraflar",
            tags: "Etiketler (Maksimum 3)",
            is_active: "Yayınla",
            save_product: "Ürünü Kaydet",
            update_product: "Ürünü Güncelle",
            delete_product: "Ürünü Sil",
            delete_warning_title: "Ürünü Sil",
            delete_warning_desc: "Bu işlem geri alınamaz!",
            delete_confirm_text: "Bu ürünü silmek istediğinizden emin misiniz?",
            yes_delete: "Evet, Ürünü Sil",
            cancel: "İptal",
            photo1: "Fotoğraf 1",
            photo2: "Fotoğraf 2",
            photo3: "Fotoğraf 3",
            stats: "İstatistikler",
            explore: "Keşfet",
            all_sectors: "Tüm Sektörler",
            add_new_product: "Yeni Ürün Ekle",
            view_profile: "Profili Görüntüle",
            company: "Firma",
            country: "Ülke",
            tr_info: "Türkçe Ürün Bilgileri",
            en_info: "İngilizce Ürün Bilgileri",
            add_product_instructions: "Ürün bilgilerini girin. En az bir dilde başlık ve açıklama zorunludur.",
            new_photo_note: "Yeni fotoğraf yüklemek için seçin",
            multiselect_help: "Birden fazla seçmek için Ctrl (Windows) veya Command (Mac) tuşuna basılı tutun.",
            tag_help: "Ürününüzü en iyi tanımlayan etiketleri seçin.",
            product_status: "Ürün Durumu",
            approval_pending: "Onay Bekliyor",
            approval_approved: "Onaylandı",
            approval_rejected: "Reddedildi"
        }
    },
    en: {
        nav: {
            home: "Home",
            producers: "For Producers",
            buyers: "For Buyers",
            calendar: "Expo Calendar",
            about: "About Us",
            contact: "Contact",
            login: "Login",
            signup: "Sign Up",
            profile: "My Profile"
        },
        hero: {
            title: "Connecting Izmir’s Finest Producers with the World",
            subtitle: "We go to trade shows so you don't have to.",
            cta: "Explore Our Services"
        },
        services_proxy: {
            title: "The Expo Proxy Service",
            desc: "We attend trade shows around the world on your behalf, showcasing your products and meeting directly with potential clients."
        },
        footer: {
            desc: "Made in Izmir: Your Global Trade Hub.",
            copyright: "© 2024 Made in Izmir. All Rights Reserved."
        },
        producers: {
            title: "Services for Producers",
            subtitle: "We provide all the support you need to open up to global markets.",
            service1_title: "Market Research",
            service1_desc: "We analyze opportunities and competitors in your target market.",
            service2_title: "Logistics Consulting",
            service2_desc: "We ensure your products arrive safely and cost-effectively.",
            service3_title: "Expo Representation",
            service3_desc: "We go, you win. From stand setup to client meetings, we handle it all.",
            form_title: "Join the Made in Izmir Network",
            name: "Full Name",
            company: "Company Name",
            sector: "Sector",
            message: "Your Message",
            submit: "Submit Application"
        },
        buyers: {
            title: "For Global Buyers",
            subtitle: "Discover Turkey's production power.",
            sourcing_title: "Sourcing Services",
            sourcing_desc: "Tell us what you need; we find the factory.",
            qc_title: "Quality Control",
            qc_desc: "We verify goods on-site to ensure they meet your standards.",
            industries_title: "Industries We Serve",
            ind_textile: "Textiles",
            ind_food: "Food",
            ind_marble: "Marble & Natural Stone",
            ind_auto: "Automotive Parts"
        },
        calendar: {
            title: "Expo Calendar",
            subtitle: "International trade shows we are attending.",
            col_event: "Event",
            col_date: "Date",
            col_location: "Location",
            col_action: "Action",
            hire_btn: "Hire Us"
        },
        contact: {
            title: "Contact",
            subtitle: "Get in touch with us for any inquiries.",
            whatsapp: "WhatsApp Line",
            form_title: "Contact Us",
            name: "Your Name",
            email: "Email",
            subject: "Subject",
            message: "Message",
            send: "Send"
        },
        about: {
            title: "About Us",
            bio_title: "Founder & Vision",
            bio_text: "Bringing Izmir's potential to the world with years of export experience.",
            why_izmir_title: "Why Izmir?",
            why_izmir_text: "Izmir is a key trade bridge between East and West, with its strategic port and strong production infrastructure."
        },
        signup: {
            title: "Sign Up",
            personal_info: "Personal Information",
            first_name: "First Name",
            last_name: "Last Name",
            email: "Email",
            username: "Username",
            password: "Password",
            password_confirm: "Confirm Password",
            company_info: "Company Information",
            company_name: "Company Name",
            phone_number: "Phone Number",
            country: "Country",
            city: "City",
            user_type: "User Type",
            user_type_desc: "You must select at least one option. You can select both.",
            buyer: "Buyer",
            producer: "Producer",
            buyer_info: "Buyer Information",
            buyer_sectors: "Interested Sectors",
            buyer_sectors_help: "Separate with commas (e.g., Textiles, Food, Marble)",
            buyer_volume: "Quarterly Purchase Volume (USD)",
            producer_info: "Producer Information",
            producer_sector: "Sectors",
            producer_sales: "Quarterly Sales Volume (USD)",
            producer_products: "Approximate Number of Products",
            submit: "Sign Up",
            have_account: "Already have an account?",
            login_link: "Login"
        },
        login: {
            title: "Login",
            username: "Username or Email",
            password: "Password",
            submit: "Login",
            no_account: "Don't have an account?",
            signup_link: "Sign Up"
        },
        profile: {
            title: "My Profile",
            buyer: "Buyer",
            producer: "Producer",
            personal_info: "Personal Information",
            full_name: "Full Name",
            username: "Username",
            email: "Email",
            company_info: "Company Information",
            company_name: "Company Name",
            phone: "Phone",
            location: "Location",
            buyer_info: "Buyer Information",
            interested_sectors: "Interested Sectors",
            quarterly_volume: "Quarterly Purchase Volume",
            producer_info: "Producer Information",
            sector: "Sectors",
            quarterly_sales: "Quarterly Sales Volume",
            product_count: "Product Count",
            logout: "Logout"
        },
        dashboard: {
            producer_title: "Producer Dashboard",
            buyer_title: "Buyer Dashboard",
            welcome: "Welcome",
            overview: "Overview",
            total_products: "Total Products",
            active_products: "Active Products",
            quick_actions: "Quick Actions",
            add_new: "Add New Product",
            my_products: "My Products",
            available_products: "Available Products",
            producer: "Producer",
            view_details: "View Details",
            edit: "Edit",
            delete: "Delete",
            no_products: "You haven't added any products yet.",
            status: "Status",
            active: "Active",
            passive: "Passive",
            details: "Details",
            back: "Back",
            product_details: "Product Details",
            title_tr: "Product Title (Turkish)",
            title_en: "Product Title (English)",
            desc_tr: "Product Description (Turkish)",
            desc_en: "Product Description (English)",
            photos: "Product Photos",
            max_photos: "Max 3 photos",
            current_photos: "Current Photos",
            tags: "Tags (Max 3)",
            is_active: "Publish",
            save_product: "Save Product",
            update_product: "Update Product",
            delete_product: "Delete Product",
            delete_warning_title: "Delete Product",
            delete_warning_desc: "This action cannot be undone!",
            delete_confirm_text: "Are you sure you want to delete this product?",
            yes_delete: "Yes, Delete Product",
            cancel: "Cancel",
            photo1: "Photo 1",
            photo2: "Photo 2",
            photo3: "Photo 3",
            stats: "Statistics",
            explore: "Explore",
            all_sectors: "All Sectors",
            add_new_product: "Add New Product",
            view_profile: "View Profile",
            company: "Company",
            country: "Country",
            tr_info: "Turkish Product Information",
            en_info: "English Product Information",
            add_product_instructions: "Enter product details. Title and description in at least one language is mandatory.",
            new_photo_note: "Select to upload a new photo",
            multiselect_help: "Hold down Ctrl (Windows) or Command (Mac) to select multiple.",
            tag_help: "Choose the tags that best describe your product.",
            product_status: "Product Status",
            approval_pending: "Pending Approval",
            approval_approved: "Approved",
            approval_rejected: "Rejected"
        }
    }
};

// Simple Language Switcher Logic
function setLanguage(lang) {
    localStorage.setItem('madeInIzmirLang', lang);
    document.documentElement.lang = lang;

    // Update all elements with data-i18n attribute
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        const keys = key.split('.');
        let value = translations[lang];
        keys.forEach(k => {
            if (value) value = value[k];
        });

        if (value) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = value;
            } else {
                el.textContent = value;
            }
        }
    });

    // Toggle active class on language buttons if they exist
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('madeInIzmirLang') || 'tr';
    setLanguage(savedLang);

    // Event listeners for language switchers
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const lang = e.target.getAttribute('data-lang');
            if (lang) setLanguage(lang);
        });
    });

    // Sticky Header Effect
    window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (header) {
            header.classList.toggle('scrolled', window.scrollY > 50);
        }
    });

    // Run once on load in case we start down the page
    const header = document.querySelector('header');
    if (header && window.scrollY > 50) {
        header.classList.add('scrolled');
    }

    // Mobile Menu Toggle
    const mobileMenu = document.getElementById('mobile-menu');
    const navLinks = document.querySelector('.nav-links');

    if (mobileMenu && navLinks) {
        mobileMenu.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileMenu.querySelector('i').classList.toggle('fa-bars');
            mobileMenu.querySelector('i').classList.toggle('fa-xmark');
        });

        // Close menu when clicking a link
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                mobileMenu.querySelector('i').classList.add('fa-bars');
                mobileMenu.querySelector('i').classList.remove('fa-xmark');
            });
        });
    }
});
